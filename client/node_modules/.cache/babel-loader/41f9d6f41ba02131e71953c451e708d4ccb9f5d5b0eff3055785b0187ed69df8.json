{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chenx\\\\Documents\\\\sda\\\\prototype\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './index.css';\nimport { LayoutRegistry, Layout3D } from './PrototypePattern';\nimport ThreeDViewer from './ThreeDViewer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [registry] = useState(new LayoutRegistry());\n  const [sessionLayout, setSessionLayout] = useState(null);\n  const [currentRoomId, setCurrentRoomId] = useState(null);\n  const [status, setStatus] = useState(\"Select a room to view 3D Layout\");\n  const [error, setError] = useState(null);\n\n  // Function to handle Room Selection\n  const handleRoomSelect = async (roomId, roomName) => {\n    if (currentRoomId === roomId && sessionLayout) return; // Already loaded\n\n    try {\n      setSessionLayout(null);\n      setCurrentRoomId(roomId);\n      setError(null);\n      setStatus(`Loading ${roomName}...`);\n\n      // 1. Fetch Master Layout\n      const response = await fetch(`http://localhost:5000/api/layout/${roomId}`);\n\n      // AF1: 404 Handling\n      if (response.status === 404) {\n        throw new Error(\"Layout not found (404)\");\n      }\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (!data || Object.keys(data).length === 0) {\n        throw new Error(\"Layout Empty\");\n      }\n\n      // 2. Hydrate Master\n      const master = Layout3D.fromJSON(data);\n      setStatus(`Downloading 3D Models for ${roomName}...`);\n\n      // EF1: Loading Error Handling\n      try {\n        await master.loadAssets();\n      } catch (assetErr) {\n        console.warn(\"Some assets failed to load\", assetErr);\n        setStatus(\"Warning: Some furniture models failed to load.\");\n      }\n\n      // 3. Register & Clone\n      registry.registerMaster(roomId, master);\n      const session = registry.getSessionClone(roomId);\n      setSessionLayout(session);\n      setStatus(`Showing 3D Layout for: ${roomName}`);\n    } catch (err) {\n      console.error(\"Room load error:\", err);\n      setError(err.message);\n      // AF1 & EF1 UI Feedback\n      if (err.message.includes(\"404\") || err.message.includes(\"Empty\")) {\n        setStatus(`Status: No 3D layout available for ${roomName}.`);\n      } else {\n        setStatus(\"Error: Backend Server is Offline. Please run 'start-app.bat' or start the server manually.\");\n      }\n    }\n  };\n  const handleCreateSession = () => {\n    // Re-clone existing master if currentRoomId is set\n    if (currentRoomId) {\n      try {\n        const session = registry.getSessionClone(currentRoomId);\n        setSessionLayout(session);\n        setStatus(\"Session Reset (New Clone Created).\");\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  };\n  const handleModifySession = () => {\n    if (!sessionLayout) return;\n    if (sessionLayout.rooms.length > 0) {\n      const room = sessionLayout.rooms[0];\n      if (room.furnitureList.length > 0) {\n        const furniture = room.furnitureList[0];\n        const newX = Math.random() * 5 - 2.5;\n        const newZ = Math.random() * 5 - 2.5;\n        furniture.setPosition(newX, 0, newZ);\n        setSessionLayout({\n          ...sessionLayout,\n          _version: Date.now()\n        });\n        setStatus(`Moved ${furniture.name} to (${newX.toFixed(1)}, 0, ${newZ.toFixed(1)})`);\n      }\n    }\n  };\n\n  // Auto-load Living Room on Mount\n  useEffect(() => {\n    handleRoomSelect('living-room', 'Living Room');\n  }, []); // Run once on mount\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ui-overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Property Layout 3D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-label\",\n            children: \"Select Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: currentRoomId === 'living-room' ? 'active' : '',\n              onClick: () => handleRoomSelect('living-room', 'Simple Room'),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Simple Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this), currentRoomId === 'living-room' && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u25CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 69\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: currentRoomId === 'deluxe-room' ? 'active' : '',\n              onClick: () => handleRoomSelect('deluxe-room', 'Deluxe Room'),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Deluxe Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }, this), currentRoomId === 'deluxe-room' && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u25CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 69\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), sessionLayout && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-label\",\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"secondary\",\n              onClick: handleCreateSession,\n              children: \"\\u27F3 Reset Session\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"secondary\",\n              onClick: handleModifySession,\n              children: \"\\u2725 Move Furniture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: error ? '#ff6b6b' : '#00d2ff',\n            marginBottom: '5px'\n          },\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), sessionLayout && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '0.7em',\n            opacity: 0.5\n          },\n          children: [\"UUID: \", sessionLayout.group.userData.entityId, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 75\n          }, this), \"Type: \", sessionLayout.group.userData.isMaster ? 'MASTER' : 'SESSION']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"viewer-container\",\n      children: sessionLayout ? /*#__PURE__*/_jsxDEV(ThreeDViewer, {\n        layoutData: sessionLayout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '100vh',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: '#666',\n          background: '#1a1a1a',\n          flexDirection: 'column',\n          textAlign: 'center',\n          padding: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: error ? \"Error Loading Layout\" : \"Select a Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#ff6b6b',\n            marginTop: '10px'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"P0/66LCl6XX5pBwN2BbcxZGueZA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","LayoutRegistry","Layout3D","ThreeDViewer","jsxDEV","_jsxDEV","App","_s","registry","sessionLayout","setSessionLayout","currentRoomId","setCurrentRoomId","status","setStatus","error","setError","handleRoomSelect","roomId","roomName","response","fetch","Error","ok","data","json","Object","keys","length","master","fromJSON","loadAssets","assetErr","console","warn","registerMaster","session","getSessionClone","err","message","includes","handleCreateSession","e","handleModifySession","rooms","room","furnitureList","furniture","newX","Math","random","newZ","setPosition","_version","Date","now","name","toFixed","id","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","marginTop","color","marginBottom","fontSize","opacity","group","userData","entityId","isMaster","layoutData","height","display","alignItems","justifyContent","background","flexDirection","textAlign","padding","_c","$RefreshReg$"],"sources":["C:/Users/chenx/Documents/sda/prototype/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './index.css';\r\nimport { LayoutRegistry, Layout3D } from './PrototypePattern';\r\nimport ThreeDViewer from './ThreeDViewer';\r\n\r\nfunction App() {\r\n    const [registry] = useState(new LayoutRegistry());\r\n    const [sessionLayout, setSessionLayout] = useState(null);\r\n    const [currentRoomId, setCurrentRoomId] = useState(null);\r\n    const [status, setStatus] = useState(\"Select a room to view 3D Layout\");\r\n    const [error, setError] = useState(null);\r\n\r\n    // Function to handle Room Selection\r\n    const handleRoomSelect = async (roomId, roomName) => {\r\n        if (currentRoomId === roomId && sessionLayout) return; // Already loaded\r\n\r\n        try {\r\n            setSessionLayout(null);\r\n            setCurrentRoomId(roomId);\r\n            setError(null);\r\n            setStatus(`Loading ${roomName}...`);\r\n\r\n            // 1. Fetch Master Layout\r\n            const response = await fetch(`http://localhost:5000/api/layout/${roomId}`);\r\n\r\n            // AF1: 404 Handling\r\n            if (response.status === 404) {\r\n                throw new Error(\"Layout not found (404)\");\r\n            }\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (!data || Object.keys(data).length === 0) {\r\n                throw new Error(\"Layout Empty\");\r\n            }\r\n\r\n            // 2. Hydrate Master\r\n            const master = Layout3D.fromJSON(data);\r\n\r\n            setStatus(`Downloading 3D Models for ${roomName}...`);\r\n\r\n            // EF1: Loading Error Handling\r\n            try {\r\n                await master.loadAssets();\r\n            } catch (assetErr) {\r\n                console.warn(\"Some assets failed to load\", assetErr);\r\n                setStatus(\"Warning: Some furniture models failed to load.\");\r\n            }\r\n\r\n            // 3. Register & Clone\r\n            registry.registerMaster(roomId, master);\r\n            const session = registry.getSessionClone(roomId);\r\n\r\n            setSessionLayout(session);\r\n            setStatus(`Showing 3D Layout for: ${roomName}`);\r\n\r\n        } catch (err) {\r\n            console.error(\"Room load error:\", err);\r\n            setError(err.message);\r\n            // AF1 & EF1 UI Feedback\r\n            if (err.message.includes(\"404\") || err.message.includes(\"Empty\")) {\r\n                setStatus(`Status: No 3D layout available for ${roomName}.`);\r\n            } else {\r\n                setStatus(\"Error: Backend Server is Offline. Please run 'start-app.bat' or start the server manually.\");\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCreateSession = () => {\r\n        // Re-clone existing master if currentRoomId is set\r\n        if (currentRoomId) {\r\n            try {\r\n                const session = registry.getSessionClone(currentRoomId);\r\n                setSessionLayout(session);\r\n                setStatus(\"Session Reset (New Clone Created).\");\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleModifySession = () => {\r\n        if (!sessionLayout) return;\r\n        if (sessionLayout.rooms.length > 0) {\r\n            const room = sessionLayout.rooms[0];\r\n            if (room.furnitureList.length > 0) {\r\n                const furniture = room.furnitureList[0];\r\n                const newX = (Math.random() * 5) - 2.5;\r\n                const newZ = (Math.random() * 5) - 2.5;\r\n                furniture.setPosition(newX, 0, newZ);\r\n                setSessionLayout({ ...sessionLayout, _version: Date.now() });\r\n                setStatus(`Moved ${furniture.name} to (${newX.toFixed(1)}, 0, ${newZ.toFixed(1)})`);\r\n            }\r\n        }\r\n    };\r\n\r\n    // Auto-load Living Room on Mount\r\n    useEffect(() => {\r\n        handleRoomSelect('living-room', 'Living Room');\r\n    }, []); // Run once on mount\r\n\r\n    return (\r\n        <div id=\"app\">\r\n            <div className=\"ui-overlay\">\r\n                <h1>Property Layout 3D</h1>\r\n\r\n                <div className=\"controls\">\r\n                    <div>\r\n                        <div className=\"section-label\">Select Room</div>\r\n                        <div className=\"button-group\">\r\n                            <button\r\n                                className={currentRoomId === 'living-room' ? 'active' : ''}\r\n                                onClick={() => handleRoomSelect('living-room', 'Simple Room')}\r\n                            >\r\n                                <span>Simple Room</span>\r\n                                {currentRoomId === 'living-room' && <span>●</span>}\r\n                            </button>\r\n                            <button\r\n                                className={currentRoomId === 'deluxe-room' ? 'active' : ''}\r\n                                onClick={() => handleRoomSelect('deluxe-room', 'Deluxe Room')}\r\n                            >\r\n                                <span>Deluxe Room</span>\r\n                                {currentRoomId === 'deluxe-room' && <span>●</span>}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {sessionLayout && (\r\n                        <div style={{ marginTop: '20px' }}>\r\n                            <div className=\"section-label\">Actions</div>\r\n                            <div className=\"button-group\">\r\n                                <button className=\"secondary\" onClick={handleCreateSession}>\r\n                                    ⟳ Reset Session\r\n                                </button>\r\n                                <button className=\"secondary\" onClick={handleModifySession}>\r\n                                    ✥ Move Furniture\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"status-bar\">\r\n                    <div style={{ color: error ? '#ff6b6b' : '#00d2ff', marginBottom: '5px' }}>\r\n                        {status}\r\n                    </div>\r\n                    {sessionLayout && (\r\n                        <div style={{ fontSize: '0.7em', opacity: 0.5 }}>\r\n                            UUID: {sessionLayout.group.userData.entityId} <br />\r\n                            Type: {sessionLayout.group.userData.isMaster ? 'MASTER' : 'SESSION'}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"viewer-container\">\r\n                {sessionLayout ? (\r\n                    <ThreeDViewer layoutData={sessionLayout} />\r\n                ) : (\r\n                    <div style={{\r\n                        height: '100vh',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        color: '#666',\r\n                        background: '#1a1a1a',\r\n                        flexDirection: 'column',\r\n                        textAlign: 'center',\r\n                        padding: '20px'\r\n                    }}>\r\n                        <h2>{error ? \"Error Loading Layout\" : \"Select a Room\"}</h2>\r\n                        {error && <p style={{ color: '#ff6b6b', marginTop: '10px' }}>{error}</p>}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}