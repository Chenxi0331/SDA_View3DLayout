{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chenx\\\\Documents\\\\sda\\\\prototype\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { LayoutRegistry, Layout3D } from './PrototypePattern';\nimport ThreeDViewer from './ThreeDViewer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [registry] = useState(new LayoutRegistry());\n  const [sessionLayout, setSessionLayout] = useState(null);\n  const [currentRoomId, setCurrentRoomId] = useState(null);\n  const [status, setStatus] = useState(\"Select a room to view 3D Layout\");\n  const [error, setError] = useState(null);\n\n  // Function to handle Room Selection\n  const handleRoomSelect = async (roomId, roomName) => {\n    if (currentRoomId === roomId && sessionLayout) return; // Already loaded\n\n    try {\n      setSessionLayout(null);\n      setCurrentRoomId(roomId);\n      setError(null);\n      setStatus(`Loading ${roomName}...`);\n\n      // 1. Fetch Master Layout\n      const response = await fetch(`http://localhost:5000/api/layout/${roomId}`);\n\n      // AF1: 404 Handling\n      if (response.status === 404) {\n        throw new Error(\"Layout not found (404)\");\n      }\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (!data || Object.keys(data).length === 0) {\n        throw new Error(\"Layout Empty\");\n      }\n\n      // 2. Hydrate Master\n      const master = Layout3D.fromJSON(data);\n      setStatus(`Downloading 3D Models for ${roomName}...`);\n\n      // EF1: Loading Error Handling\n      try {\n        await master.loadAssets();\n      } catch (assetErr) {\n        console.warn(\"Some assets failed to load\", assetErr);\n        setStatus(\"Warning: Some furniture models failed to load.\");\n      }\n\n      // 3. Register & Clone\n      registry.registerMaster(roomId, master);\n      const session = registry.getSessionClone(roomId);\n      setSessionLayout(session);\n      setStatus(`Showing 3D Layout for: ${roomName}`);\n    } catch (err) {\n      console.error(\"Room load error:\", err);\n      setError(err.message);\n      // AF1 & EF1 UI Feedback\n      if (err.message.includes(\"404\") || err.message.includes(\"Empty\")) {\n        setStatus(`Status: No 3D layout available for ${roomName}.`);\n      } else {\n        setStatus(\"Error loading 3D layout. Please retry or contact support.\");\n      }\n    }\n  };\n  const handleCreateSession = () => {\n    // Re-clone existing master if currentRoomId is set\n    if (currentRoomId) {\n      try {\n        const session = registry.getSessionClone(currentRoomId);\n        setSessionLayout(session);\n        setStatus(\"Session Reset (New Clone Created).\");\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  };\n  const handleModifySession = () => {\n    if (!sessionLayout) return;\n    if (sessionLayout.rooms.length > 0) {\n      const room = sessionLayout.rooms[0];\n      if (room.furnitureList.length > 0) {\n        const furniture = room.furnitureList[0];\n        const newX = Math.random() * 5 - 2.5;\n        const newZ = Math.random() * 5 - 2.5;\n        furniture.setPosition(newX, 0, newZ);\n        setSessionLayout({\n          ...sessionLayout,\n          _version: Date.now()\n        });\n        setStatus(`Moved ${furniture.name} to (${newX.toFixed(1)}, 0, ${newZ.toFixed(1)})`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Realistic 3D Property Layout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        display: 'flex',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleRoomSelect('living-room', 'Living Room'),\n        style: {\n          padding: '10px 20px',\n          fontWeight: 'bold',\n          background: currentRoomId === 'living-room' ? '#ddd' : '#f9f9f9',\n          cursor: 'pointer'\n        },\n        children: \"Living Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleRoomSelect('bedroom', 'Bedroom'),\n        style: {\n          padding: '10px 20px',\n          fontWeight: 'bold',\n          background: currentRoomId === 'bedroom' ? '#ddd' : '#f9f9f9',\n          cursor: 'pointer'\n        },\n        children: \"Bedroom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleRoomSelect('dining-room', 'Dining Room'),\n        style: {\n          padding: '10px 20px',\n          fontWeight: 'bold',\n          background: currentRoomId === 'dining-room' ? '#ddd' : '#f9f9f9',\n          cursor: 'pointer'\n        },\n        children: \"Dining Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleRoomSelect('unknown-room', 'Hidden Basement'),\n        style: {\n          padding: '10px 20px',\n          fontWeight: 'bold',\n          background: '#ffebeb',\n          color: '#d00',\n          cursor: 'pointer'\n        },\n        children: \"Test 404\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '10px',\n        display: sessionLayout ? 'block' : 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCreateSession,\n        style: {\n          padding: '8px',\n          marginRight: '10px'\n        },\n        children: \"Reset Layout (Re-Clone)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleModifySession,\n        style: {\n          padding: '8px'\n        },\n        children: \"Modify Furniture (Session)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '10px',\n        background: error ? '#ffe6e6' : '#e6ffe6',\n        marginBottom: '20px',\n        border: error ? '1px solid red' : '1px solid green',\n        borderRadius: '4px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), \" \", status, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 51\n      }, this), sessionLayout && /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [\"Session ID: \", sessionLayout.group.userData.entityId, \" (IsMaster: \", String(sessionLayout.group.userData.isMaster), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #ccc',\n        borderRadius: '8px',\n        overflow: 'hidden',\n        minHeight: '600px',\n        background: '#f5f5f5'\n      },\n      children: sessionLayout ? /*#__PURE__*/_jsxDEV(ThreeDViewer, {\n        layoutData: sessionLayout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '600px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: '#999',\n          fontSize: '1.2em'\n        },\n        children: error ? \"No Layout to Display\" : \"Select a room above to preview 3D model\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        color: '#666',\n        fontSize: '0.9em'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Prototype Pattern Demo:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Switching rooms fetches a \\\"Master\\\" layout from the server (Mock).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"The Viewer displays a \\\"Session Clone\\\" of that master.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"You can interact with furniture without affecting the Master.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"jwwkKdXLppmCYO/MqB9OdOILdtM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","LayoutRegistry","Layout3D","ThreeDViewer","jsxDEV","_jsxDEV","App","_s","registry","sessionLayout","setSessionLayout","currentRoomId","setCurrentRoomId","status","setStatus","error","setError","handleRoomSelect","roomId","roomName","response","fetch","Error","ok","data","json","Object","keys","length","master","fromJSON","loadAssets","assetErr","console","warn","registerMaster","session","getSessionClone","err","message","includes","handleCreateSession","e","handleModifySession","rooms","room","furnitureList","furniture","newX","Math","random","newZ","setPosition","_version","Date","now","name","toFixed","style","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","display","gap","onClick","fontWeight","background","cursor","color","marginRight","border","borderRadius","group","userData","entityId","String","isMaster","overflow","minHeight","layoutData","height","alignItems","justifyContent","fontSize","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/chenx/Documents/sda/prototype/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { LayoutRegistry, Layout3D } from './PrototypePattern';\r\nimport ThreeDViewer from './ThreeDViewer';\r\n\r\nfunction App() {\r\n    const [registry] = useState(new LayoutRegistry());\r\n    const [sessionLayout, setSessionLayout] = useState(null);\r\n    const [currentRoomId, setCurrentRoomId] = useState(null);\r\n    const [status, setStatus] = useState(\"Select a room to view 3D Layout\");\r\n    const [error, setError] = useState(null);\r\n\r\n    // Function to handle Room Selection\r\n    const handleRoomSelect = async (roomId, roomName) => {\r\n        if (currentRoomId === roomId && sessionLayout) return; // Already loaded\r\n\r\n        try {\r\n            setSessionLayout(null);\r\n            setCurrentRoomId(roomId);\r\n            setError(null);\r\n            setStatus(`Loading ${roomName}...`);\r\n\r\n            // 1. Fetch Master Layout\r\n            const response = await fetch(`http://localhost:5000/api/layout/${roomId}`);\r\n\r\n            // AF1: 404 Handling\r\n            if (response.status === 404) {\r\n                throw new Error(\"Layout not found (404)\");\r\n            }\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (!data || Object.keys(data).length === 0) {\r\n                throw new Error(\"Layout Empty\");\r\n            }\r\n\r\n            // 2. Hydrate Master\r\n            const master = Layout3D.fromJSON(data);\r\n\r\n            setStatus(`Downloading 3D Models for ${roomName}...`);\r\n\r\n            // EF1: Loading Error Handling\r\n            try {\r\n                await master.loadAssets();\r\n            } catch (assetErr) {\r\n                console.warn(\"Some assets failed to load\", assetErr);\r\n                setStatus(\"Warning: Some furniture models failed to load.\");\r\n            }\r\n\r\n            // 3. Register & Clone\r\n            registry.registerMaster(roomId, master);\r\n            const session = registry.getSessionClone(roomId);\r\n\r\n            setSessionLayout(session);\r\n            setStatus(`Showing 3D Layout for: ${roomName}`);\r\n\r\n        } catch (err) {\r\n            console.error(\"Room load error:\", err);\r\n            setError(err.message);\r\n            // AF1 & EF1 UI Feedback\r\n            if (err.message.includes(\"404\") || err.message.includes(\"Empty\")) {\r\n                setStatus(`Status: No 3D layout available for ${roomName}.`);\r\n            } else {\r\n                setStatus(\"Error loading 3D layout. Please retry or contact support.\");\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCreateSession = () => {\r\n        // Re-clone existing master if currentRoomId is set\r\n        if (currentRoomId) {\r\n            try {\r\n                const session = registry.getSessionClone(currentRoomId);\r\n                setSessionLayout(session);\r\n                setStatus(\"Session Reset (New Clone Created).\");\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleModifySession = () => {\r\n        if (!sessionLayout) return;\r\n        if (sessionLayout.rooms.length > 0) {\r\n            const room = sessionLayout.rooms[0];\r\n            if (room.furnitureList.length > 0) {\r\n                const furniture = room.furnitureList[0];\r\n                const newX = (Math.random() * 5) - 2.5;\r\n                const newZ = (Math.random() * 5) - 2.5;\r\n                furniture.setPosition(newX, 0, newZ);\r\n                setSessionLayout({ ...sessionLayout, _version: Date.now() });\r\n                setStatus(`Moved ${furniture.name} to (${newX.toFixed(1)}, 0, ${newZ.toFixed(1)})`);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: '20px', fontFamily: 'Arial' }}>\r\n            <h1>Realistic 3D Property Layout</h1>\r\n\r\n            {/* Room Selection Tabs */}\r\n            <div style={{ marginBottom: '20px', display: 'flex', gap: '10px' }}>\r\n                <button\r\n                    onClick={() => handleRoomSelect('living-room', 'Living Room')}\r\n                    style={{ padding: '10px 20px', fontWeight: 'bold', background: currentRoomId === 'living-room' ? '#ddd' : '#f9f9f9', cursor: 'pointer' }}\r\n                >\r\n                    Living Room\r\n                </button>\r\n                <button\r\n                    onClick={() => handleRoomSelect('bedroom', 'Bedroom')}\r\n                    style={{ padding: '10px 20px', fontWeight: 'bold', background: currentRoomId === 'bedroom' ? '#ddd' : '#f9f9f9', cursor: 'pointer' }}\r\n                >\r\n                    Bedroom\r\n                </button>\r\n                <button\r\n                    onClick={() => handleRoomSelect('dining-room', 'Dining Room')}\r\n                    style={{ padding: '10px 20px', fontWeight: 'bold', background: currentRoomId === 'dining-room' ? '#ddd' : '#f9f9f9', cursor: 'pointer' }}\r\n                >\r\n                    Dining Room\r\n                </button>\r\n                <button\r\n                    onClick={() => handleRoomSelect('unknown-room', 'Hidden Basement')}\r\n                    style={{ padding: '10px 20px', fontWeight: 'bold', background: '#ffebeb', color: '#d00', cursor: 'pointer' }}\r\n                >\r\n                    Test 404\r\n                </button>\r\n            </div>\r\n\r\n            {/* Controls */}\r\n            <div style={{ marginBottom: '10px', display: sessionLayout ? 'block' : 'none' }}>\r\n                <button onClick={handleCreateSession} style={{ padding: '8px', marginRight: '10px' }}>\r\n                    Reset Layout (Re-Clone)\r\n                </button>\r\n                <button onClick={handleModifySession} style={{ padding: '8px' }}>\r\n                    Modify Furniture (Session)\r\n                </button>\r\n            </div>\r\n\r\n            {/* Status Bar */}\r\n            <div style={{ padding: '10px', background: error ? '#ffe6e6' : '#e6ffe6', marginBottom: '20px', border: error ? '1px solid red' : '1px solid green', borderRadius: '4px' }}>\r\n                <strong>Status:</strong> {status} <br />\r\n                {sessionLayout && (\r\n                    <small>Session ID: {sessionLayout.group.userData.entityId} (IsMaster: {String(sessionLayout.group.userData.isMaster)})</small>\r\n                )}\r\n            </div>\r\n\r\n            {/* Viewer */}\r\n            <div style={{ border: '1px solid #ccc', borderRadius: '8px', overflow: 'hidden', minHeight: '600px', background: '#f5f5f5' }}>\r\n                {sessionLayout ? (\r\n                    <ThreeDViewer layoutData={sessionLayout} />\r\n                ) : (\r\n                    <div style={{ height: '600px', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#999', fontSize: '1.2em' }}>\r\n                        {error ? \"No Layout to Display\" : \"Select a room above to preview 3D model\"}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div style={{ marginTop: '20px', color: '#666', fontSize: '0.9em' }}>\r\n                <p><strong>Prototype Pattern Demo:</strong></p>\r\n                <ul>\r\n                    <li>Switching rooms fetches a \"Master\" layout from the server (Mock).</li>\r\n                    <li>The Viewer displays a \"Session Clone\" of that master.</li>\r\n                    <li>You can interact with furniture without affecting the Master.</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}