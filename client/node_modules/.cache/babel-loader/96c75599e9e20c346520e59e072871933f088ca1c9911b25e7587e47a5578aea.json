{"ast":null,"code":"import AUTO_CAD_COLOR_INDEX from './AutoCadColorIndex';\n/**\n * Returns the truecolor value of the given AutoCad color index value\n * @return {Number} truecolor value as a number\n */\nexport function getAcadColor(index) {\n  return AUTO_CAD_COLOR_INDEX[index];\n}\n/**\n * Parses the 2D or 3D coordinate, vector, or point. When complete,\n * the scanner remains on the last group of the coordinate.\n * @param {*} scanner\n */\nexport function parsePoint(scanner) {\n  const point = {};\n  // Reread group for the first coordinate\n  scanner.rewind();\n  let curr = scanner.next();\n  let code = curr.code;\n  point.x = curr.value;\n  code += 10;\n  curr = scanner.next();\n  if (curr.code != code) throw new Error('Expected code for point value to be ' + code + ' but got ' + curr.code + '.');\n  point.y = curr.value;\n  code += 10;\n  curr = scanner.next();\n  if (curr.code != code) {\n    // Only the x and y are specified. Don't read z.\n    scanner.rewind(); // Let the calling code advance off the point\n    return point;\n  }\n  point.z = curr.value;\n  return point;\n}\n/**\n * Attempts to parse codes common to all entities. Returns true if the group\n * was handled by this function.\n * @param {*} entity - the entity currently being parsed\n * @param {*} curr - the current group being parsed\n */\nexport function checkCommonEntityProperties(entity, curr, scanner) {\n  switch (curr.code) {\n    case 0:\n      entity.type = curr.value;\n      break;\n    case 5:\n      entity.handle = curr.value;\n      break;\n    case 6:\n      entity.lineType = curr.value;\n      break;\n    case 8:\n      // Layer name\n      entity.layer = curr.value;\n      break;\n    case 48:\n      entity.lineTypeScale = curr.value;\n      break;\n    case 60:\n      entity.visible = curr.value === 0;\n      break;\n    case 62:\n      // Acad Index Color. 0 inherits ByBlock. 256 inherits ByLayer. Default is bylayer\n      entity.colorIndex = curr.value;\n      entity.color = getAcadColor(Math.abs(curr.value));\n      break;\n    case 67:\n      entity.inPaperSpace = curr.value !== 0;\n      break;\n    case 100:\n      //ignore\n      break;\n    case 101:\n      // Embedded Object in ACAD 2018.\n      // See https://ezdxf.readthedocs.io/en/master/dxfinternals/dxftags.html#embedded-objects\n      while (curr.code != 0) {\n        curr = scanner.next();\n      }\n      scanner.rewind();\n      break;\n    case 330:\n      entity.ownerHandle = curr.value;\n      break;\n    case 347:\n      entity.materialObjectHandle = curr.value;\n      break;\n    case 370:\n      //From https://www.woutware.com/Forum/Topic/955/lineweight?returnUrl=%2FForum%2FUserPosts%3FuserId%3D478262319\n      // An integer representing 100th of mm, must be one of the following values:\n      // 0, 5, 9, 13, 15, 18, 20, 25, 30, 35, 40, 50, 53, 60, 70, 80, 90, 100, 106, 120, 140, 158, 200, 211.\n      // -3 = STANDARD, -2 = BYLAYER, -1 = BYBLOCK\n      entity.lineweight = curr.value;\n      break;\n    case 420:\n      // TrueColor Color\n      entity.color = curr.value;\n      break;\n    case 1000:\n      entity.extendedData = entity.extendedData || {};\n      entity.extendedData.customStrings = entity.extendedData.customStrings || [];\n      entity.extendedData.customStrings.push(curr.value);\n      break;\n    case 1001:\n      entity.extendedData = entity.extendedData || {};\n      entity.extendedData.applicationName = curr.value;\n      break;\n    default:\n      return false;\n  }\n  return true;\n}","map":{"version":3,"names":["AUTO_CAD_COLOR_INDEX","getAcadColor","index","parsePoint","scanner","point","rewind","curr","next","code","x","value","Error","y","z","checkCommonEntityProperties","entity","type","handle","lineType","layer","lineTypeScale","visible","colorIndex","color","Math","abs","inPaperSpace","ownerHandle","materialObjectHandle","lineweight","extendedData","customStrings","push","applicationName"],"sources":["C:/Users/chenx/Documents/sda/prototype/client/node_modules/dxf-parser/dist/ParseHelpers.js"],"sourcesContent":["import AUTO_CAD_COLOR_INDEX from './AutoCadColorIndex';\n/**\n * Returns the truecolor value of the given AutoCad color index value\n * @return {Number} truecolor value as a number\n */\nexport function getAcadColor(index) {\n    return AUTO_CAD_COLOR_INDEX[index];\n}\n/**\n * Parses the 2D or 3D coordinate, vector, or point. When complete,\n * the scanner remains on the last group of the coordinate.\n * @param {*} scanner\n */\nexport function parsePoint(scanner) {\n    const point = {};\n    // Reread group for the first coordinate\n    scanner.rewind();\n    let curr = scanner.next();\n    let code = curr.code;\n    point.x = curr.value;\n    code += 10;\n    curr = scanner.next();\n    if (curr.code != code)\n        throw new Error('Expected code for point value to be ' + code +\n            ' but got ' + curr.code + '.');\n    point.y = curr.value;\n    code += 10;\n    curr = scanner.next();\n    if (curr.code != code) {\n        // Only the x and y are specified. Don't read z.\n        scanner.rewind(); // Let the calling code advance off the point\n        return point;\n    }\n    point.z = curr.value;\n    return point;\n}\n/**\n * Attempts to parse codes common to all entities. Returns true if the group\n * was handled by this function.\n * @param {*} entity - the entity currently being parsed\n * @param {*} curr - the current group being parsed\n */\nexport function checkCommonEntityProperties(entity, curr, scanner) {\n    switch (curr.code) {\n        case 0:\n            entity.type = curr.value;\n            break;\n        case 5:\n            entity.handle = curr.value;\n            break;\n        case 6:\n            entity.lineType = curr.value;\n            break;\n        case 8: // Layer name\n            entity.layer = curr.value;\n            break;\n        case 48:\n            entity.lineTypeScale = curr.value;\n            break;\n        case 60:\n            entity.visible = curr.value === 0;\n            break;\n        case 62: // Acad Index Color. 0 inherits ByBlock. 256 inherits ByLayer. Default is bylayer\n            entity.colorIndex = curr.value;\n            entity.color = getAcadColor(Math.abs(curr.value));\n            break;\n        case 67:\n            entity.inPaperSpace = curr.value !== 0;\n            break;\n        case 100:\n            //ignore\n            break;\n        case 101: // Embedded Object in ACAD 2018.\n            // See https://ezdxf.readthedocs.io/en/master/dxfinternals/dxftags.html#embedded-objects\n            while (curr.code != 0) {\n                curr = scanner.next();\n            }\n            scanner.rewind();\n            break;\n        case 330:\n            entity.ownerHandle = curr.value;\n            break;\n        case 347:\n            entity.materialObjectHandle = curr.value;\n            break;\n        case 370:\n            //From https://www.woutware.com/Forum/Topic/955/lineweight?returnUrl=%2FForum%2FUserPosts%3FuserId%3D478262319\n            // An integer representing 100th of mm, must be one of the following values:\n            // 0, 5, 9, 13, 15, 18, 20, 25, 30, 35, 40, 50, 53, 60, 70, 80, 90, 100, 106, 120, 140, 158, 200, 211.\n            // -3 = STANDARD, -2 = BYLAYER, -1 = BYBLOCK\n            entity.lineweight = curr.value;\n            break;\n        case 420: // TrueColor Color\n            entity.color = curr.value;\n            break;\n        case 1000:\n            entity.extendedData = entity.extendedData || {};\n            entity.extendedData.customStrings = entity.extendedData.customStrings || [];\n            entity.extendedData.customStrings.push(curr.value);\n            break;\n        case 1001:\n            entity.extendedData = entity.extendedData || {};\n            entity.extendedData.applicationName = curr.value;\n            break;\n        default:\n            return false;\n    }\n    return true;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}